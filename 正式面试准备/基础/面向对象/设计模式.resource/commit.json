{"compress":true,"commitItems":[["f4cb6571-ee65-44ba-94f7-0b784d204425",1572356075461,"",[[1572356018217,["28447@DESKTOP-BE7HQ26",[[1,0,"# 设计模式\n\n\n\n"]],[0,0],[9,9]]],[1572356032274,["28447@DESKTOP-BE7HQ26",[[-1,9,"\n"],[1,10,"#"]],[9,9],[10,10]]],[1572356067988,["28447@DESKTOP-BE7HQ26",[[1,10,"# 单例模式"]],[10,10],[16,16]]],[1572356068541,["28447@DESKTOP-BE7HQ26",[[1,16,"\n\n"]],[16,16],[17,17]]],[1572356082483,["28447@DESKTOP-BE7HQ26",[[1,18,"\n"]],[17,17],[18,18]]],[1572356086170,["28447@DESKTOP-BE7HQ26",[[-1,18,"\n"],[1,19,"#"]],[18,18],[19,19]]],[1572356094578,["28447@DESKTOP-BE7HQ26",[[1,19,"## 懒汉式 - 线程不安全"]],[19,19],[33,33]]],[1572356095032,["28447@DESKTOP-BE7HQ26",[[1,33,"\n\n"]],[33,33],[34,34]]],[1572356110405,["28447@DESKTOP-BE7HQ26",[[-1,34,"\n"],[1,35,"·"]],[34,34],[35,35]]],[1572356110781,["28447@DESKTOP-BE7HQ26",[[1,35,"··"]],[35,35],[37,37]]],[1572356111483,["28447@DESKTOP-BE7HQ26",[[-1,35,"··"]],[37,37],[35,35]]],[1572356111675,["28447@DESKTOP-BE7HQ26",[[-1,34,"·"],[1,35,"\n"]],[35,35],[34,34]]],[1572356112246,["28447@DESKTOP-BE7HQ26",[[1,35,"\n"]],[34,34],[35,35]]],[1572356112462,["28447@DESKTOP-BE7HQ26",[[-1,35,"\n"],[1,36,"`"]],[35,35],[36,36]]],[1572356112849,["28447@DESKTOP-BE7HQ26",[[1,36,"``"]],[36,36],[38,38]]],[1572356112872,["28447@DESKTOP-BE7HQ26",[[1,38,"language\n```\n"]],[38,38],[38,46]]],[1572356114196,["28447@DESKTOP-BE7HQ26",[[-1,38,"language"],[1,46,"j"]],[38,46],[39,39]]],[1572356114573,["28447@DESKTOP-BE7HQ26",[[1,39,"ava"]],[39,39],[42,42]]],[1572356114833,["28447@DESKTOP-BE7HQ26",[[1,43,"\n"]],[42,42],[43,43]]],[1572356115350,["28447@DESKTOP-BE7HQ26",[[1,43,"```\npublic class Singleton {\n\n    private static Singleton uniqueInstance;\n\n    private Singleton() {\n    }\n\n    public static Singleton getUniqueInstance() {\n        if (uniqueInstance == null) {\n            uniqueInstance = new Singleton();\n        }\n        return uniqueInstance;\n    }\n}\n```"]],[43,43],[338,338]]],[1572356119219,["28447@DESKTOP-BE7HQ26",[[-1,73,"    "]],[73,77],[73,73]]],[1572356119614,["28447@DESKTOP-BE7HQ26",[[-1,72,"\n"]],[73,73],[72,72]]],[1572356121838,["28447@DESKTOP-BE7HQ26",[[-1,43,"```"]],[43,46],[43,43]]],[1572356124700,["28447@DESKTOP-BE7HQ26",[[-1,327,"```"]],[330,330],[327,327]]],[1572356125378,["28447@DESKTOP-BE7HQ26",[[-1,327,"\n"]],[327,327],[326,326]]],[1572356684483,["28447@DESKTOP-BE7HQ26",[[1,69,"\n    "],[-1,94,"un"],[-1,97,"queI"],[-1,109,"\n\n "],[-1,175,"Unique"],[-1,206,"un"],[-1,209,"queI"],[-1,244,"un"],[-1,247,"queI"],[-1,280,"      "],[-1,303,"un"],[-1,306,"queI"],[-1,319,"  "]],[44,326],[290,290]]],[1572356699328,["28447@DESKTOP-BE7HQ26",[[1,111,"                               "]],[111,111],[142,142]]],[1572356701226,["28447@DESKTOP-BE7HQ26",[[1,110,"\n    "]],[110,110],[115,115]]],[1572356704250,["28447@DESKTOP-BE7HQ26",[[-1,143,"    "]],[115,115],[111,111]]],[1572356704450,["28447@DESKTOP-BE7HQ26",[[-1,110,"\n"]],[111,111],[110,110]]],[1572356705777,["28447@DESKTOP-BE7HQ26",[[-1,140,"  "]],[110,110],[108,108]]],[1572356714737,["28447@DESKTOP-BE7HQ26",[[1,140,"\n    \n    "]],[140,140],[150,150]]],[1572356716530,["28447@DESKTOP-BE7HQ26",[[-1,146,"    "]],[150,150],[146,146]]],[1572356716923,["28447@DESKTOP-BE7HQ26",[[-1,145,"\n"]],[146,146],[145,145]]],[1572356730505,["28447@DESKTOP-BE7HQ26",[[1,292,"      "]],[292,292],[298,298]]],[1572356733862,["28447@DESKTOP-BE7HQ26",[[1,327,"  "]],[327,327],[329,329]]],[1572356911126,["28447@DESKTOP-BE7HQ26",[[1,337,"\n"]],[336,336],[337,337]]],[1572356911402,["28447@DESKTOP-BE7HQ26",[[1,338,"\n"]],[337,337],[338,338]]],[1572356913310,["28447@DESKTOP-BE7HQ26",[[-1,338,"\n"],[1,339,"#"]],[338,338],[339,339]]],[1572356921668,["28447@DESKTOP-BE7HQ26",[[1,339,"## 饿汉式 -- 线程安全"]],[339,339],[353,353]]],[1572356922600,["28447@DESKTOP-BE7HQ26",[[1,353,"\n\n"]],[353,353],[354,354]]],[1572356922806,["28447@DESKTOP-BE7HQ26",[[1,355,"\n"]],[354,354],[355,355]]],[1572356924195,["28447@DESKTOP-BE7HQ26",[[1,354,"```"]],[354,354],[357,357]]],[1572356924220,["28447@DESKTOP-BE7HQ26",[[1,357,"language\n```\n"]],[357,357],[357,365]]],[1572356925016,["28447@DESKTOP-BE7HQ26",[[-1,357,"language"],[1,365,"j"]],[357,365],[358,358]]],[1572356925374,["28447@DESKTOP-BE7HQ26",[[1,358,"ava"]],[358,358],[361,361]]],[1572356925629,["28447@DESKTOP-BE7HQ26",[[1,362,"\n"]],[361,361],[362,362]]],[1572356926035,["28447@DESKTOP-BE7HQ26",[[1,362,"public class Singleton {\n    private static Singleton instance = new Singleton();\n private Singleton() {\n    }\n\n    public static Singleton getInstance() {\n        return instance;\n  }\n}"]],[362,362],[548,548]]],[1572356932846,["28447@DESKTOP-BE7HQ26",[[1,445,"   "]],[445,445],[448,448]]],[1572356937320,["28447@DESKTOP-BE7HQ26",[[1,548,"   "]],[547,547],[550,550]]],[1572356938219,["28447@DESKTOP-BE7HQ26",[[-1,550," "]],[550,550],[549,549]]],[1572356941436,["28447@DESKTOP-BE7HQ26",[[1,560,"\n"]],[557,557],[558,558]]],[1572356941623,["28447@DESKTOP-BE7HQ26",[[1,561,"\n"]],[558,558],[559,559]]],[1572356952926,["28447@DESKTOP-BE7HQ26",[[1,559,"### 双重锁，"]],[559,559],[567,567]]],[1572356953291,["28447@DESKTOP-BE7HQ26",[[-1,566,"，"]],[567,567],[566,566]]],[1572356954524,["28447@DESKTOP-BE7HQ26",[[1,566,"模式"]],[566,566],[568,568]]],[1572356954717,["28447@DESKTOP-BE7HQ26",[[1,571,"\n"]],[568,568],[569,569]]],[1572356963776,["28447@DESKTOP-BE7HQ26",[[1,35,"\n"]],[33,33],[34,34]]],[1572357425584,["28447@DESKTOP-BE7HQ26",[[-1,100,"instance"]],[100,108],[100,100]]],[1572357426660,["28447@DESKTOP-BE7HQ26",[[1,100,"instance"]],[100,100],[100,108]]],[1572357435926,["28447@DESKTOP-BE7HQ26",[[1,35,"私有变量 instance 会被"]],[35,35],[51,51]]],[1572357439186,["28447@DESKTOP-BE7HQ26",[[-1,49,"会"]],[50,50],[49,49]]],[1572357474633,["28447@DESKTOP-BE7HQ26",[[1,50,"延迟实例化，这样做的好处是，如果没有用到该类，那么就不会实例化 instance "]],[50,50],[91,91]]],[1572357475755,["28447@DESKTOP-BE7HQ26",[[-1,90," "]],[91,91],[90,90]]],[1572357482910,["28447@DESKTOP-BE7HQ26",[[1,90,",从而节约资源"]],[90,90],[97,97]]],[1572357483514,["28447@DESKTOP-BE7HQ26",[[1,98,"\n"]],[97,97],[98,98]]],[1572357483889,["28447@DESKTOP-BE7HQ26",[[1,99,"\n"]],[98,98],[99,99]]],[1572357484179,["28447@DESKTOP-BE7HQ26",[[1,100,"\n"]],[99,99],[100,100]]],[1572357486184,["28447@DESKTOP-BE7HQ26",[[1,101,"\n"]],[98,98],[99,99]]],[1572357498255,["28447@DESKTOP-BE7HQ26",[[1,99,"这种实现"]],[99,99],[103,103]]],[1572357499701,["28447@DESKTOP-BE7HQ26",[[1,103,"反射光hi在"]],[103,103],[109,109]]],[1572357500983,["28447@DESKTOP-BE7HQ26",[[-1,103,"反射光hi在"]],[109,109],[103,103]]],[1572357514341,["28447@DESKTOP-BE7HQ26",[[1,103,"方式在多线程环境下是不安全的，应为"]],[103,103],[120,120]]],[1572357516583,["28447@DESKTOP-BE7HQ26",[[-1,118,"应为"]],[120,120],[118,118]]],[1572357525700,["28447@DESKTOP-BE7HQ26",[[1,118,"因为多个线程能够同时进入"]],[118,118],[130,130]]],[1572357548112,["28447@DESKTOP-BE7HQ26",[[-1,124,"能够同时进入"]],[124,130],[124,124]]],[1572357554677,["28447@DESKTOP-BE7HQ26",[[1,124,"可执行··"]],[124,124],[129,129]]],[1572357555569,["28447@DESKTOP-BE7HQ26",[[-1,127,"··"]],[129,129],[127,127]]],[1572357556175,["28447@DESKTOP-BE7HQ26",[[1,127,"``"]],[127,127],[129,129]]],[1572357556783,["28447@DESKTOP-BE7HQ26",[[1,128,"instance = new Singleton();"]],[128,128],[155,155]]],[1572357558916,["28447@DESKTOP-BE7HQ26",[[-1,154,";"]],[155,155],[154,154]]],[1572357560763,["28447@DESKTOP-BE7HQ26",[[1,155,"方"]],[155,155],[156,156]]],[1572357561014,["28447@DESKTOP-BE7HQ26",[[-1,155,"方"]],[156,156],[155,155]]],[1572357578437,["28447@DESKTOP-BE7HQ26",[[1,155,"，导致实例化多次instance."]],[155,155],[172,172]]],[1572357579055,["28447@DESKTOP-BE7HQ26",[[-1,171,"."]],[172,172],[171,171]]],[1572357579349,["28447@DESKTOP-BE7HQ26",[[1,171,",."]],[171,171],[173,173]]],[1572357580184,["28447@DESKTOP-BE7HQ26",[[-1,171,",."]],[173,173],[171,171]]],[1572357580714,["28447@DESKTOP-BE7HQ26",[[1,171,"。"]],[171,171],[172,172]]],[1572357581734,["28447@DESKTOP-BE7HQ26",[[-1,174,"\n"]],[173,173],[172,172]]],[1572357582855,["28447@DESKTOP-BE7HQ26",[[-1,171,"。"]],[172,172],[171,171]]],[1572357583875,["28447@DESKTOP-BE7HQ26",[[1,171,"."]],[171,171],[172,172]]],[1572357584552,["28447@DESKTOP-BE7HQ26",[[-1,171,"."]],[172,172],[171,171]]],[1572357585621,["28447@DESKTOP-BE7HQ26",[[1,171,"."]],[171,171],[172,172]]],[1572357589523,["28447@DESKTOP-BE7HQ26",[[1,477,"\n"]],[477,477],[478,478]]],[1572357591161,["28447@DESKTOP-BE7HQ26",[[1,494,"\n"]],[493,493],[494,494]]],[1572357591773,["28447@DESKTOP-BE7HQ26",[[1,495,"\n"]],[494,494],[495,495]]],[1572357727483,["28447@DESKTOP-BE7HQ26",[[1,496,"\n"]],[494,494],[495,495]]],[1572357729861,["28447@DESKTOP-BE7HQ26",[[1,494,"ehansh"]],[494,494],[500,500]]],[1572357731036,["28447@DESKTOP-BE7HQ26",[[-1,494,"ehansh"]],[500,500],[494,494]]],[1572357738458,["28447@DESKTOP-BE7HQ26",[[1,494,"饿汉式没有线程安全"]],[494,494],[503,503]]],[1572357739411,["28447@DESKTOP-BE7HQ26",[[1,503,"问题"]],[503,503],[505,505]]],[1572357752088,["28447@DESKTOP-BE7HQ26",[[1,499,"实例化多次的问题，"]],[499,499],[508,508]]],[1572357761249,["28447@DESKTOP-BE7HQ26",[[-1,497,"没有实例化多次的问题，"]],[508,508],[497,497]]],[1572357764347,["28447@DESKTOP-BE7HQ26",[[1,497,"应为"]],[497,497],[499,499]]],[1572357765085,["28447@DESKTOP-BE7HQ26",[[-1,497,"应为"]],[499,499],[497,497]]],[1572357766326,["28447@DESKTOP-BE7HQ26",[[1,497,"因为"]],[497,497],[499,499]]],[1572357770371,["28447@DESKTOP-BE7HQ26",[[-1,494,"饿汉式"]],[497,497],[494,494]]],[1572357773377,["28447@DESKTOP-BE7HQ26",[[1,494,"懒汉式"]],[494,494],[497,497]]],[1572357781125,["28447@DESKTOP-BE7HQ26",[[1,499,"会在"]],[499,499],[501,501]]],[1572357781446,["28447@DESKTOP-BE7HQ26",[[-1,500,"在"]],[501,501],[500,500]]],[1572357786584,["28447@DESKTOP-BE7HQ26",[[1,500,"被多次实例化，"]],[500,500],[507,507]]],[1572357797387,["28447@DESKTOP-BE7HQ26",[[-1,507,"线程安全问题"]],[513,513],[507,507]]],[1572357825009,["28447@DESKTOP-BE7HQ26",[[1,507,"饿汉式直接实例化instance,不会产生线程安全问题。"]],[507,507],[535,535]]],[1572357825264,["28447@DESKTOP-BE7HQ26",[[1,538,"\n"]],[535,535],[536,536]]],[1572357827403,["28447@DESKTOP-BE7HQ26",[[1,539,"\n"]],[536,536],[537,537]]],[1572357834672,["28447@DESKTOP-BE7HQ26",[[1,537,"但是直接实例化的方式野"]],[537,537],[548,548]]],[1572357835350,["28447@DESKTOP-BE7HQ26",[[-1,547,"野"]],[548,548],[547,547]]],[1572357853159,["28447@DESKTOP-BE7HQ26",[[1,547,"也丢失了延迟实例化带来的节约资源的好处。"]],[547,547],[567,567]]],[1572357960220,["28447@DESKTOP-BE7HQ26",[[-1,569,"\n"]],[569,569],[568,568]]],[1572357987473,["28447@DESKTOP-BE7HQ26",[[1,27,"-"]],[27,27],[28,28]]],[1572357992483,["28447@DESKTOP-BE7HQ26",[[-1,779,"双重锁模式"]],[779,784],[779,779]]],[1572357995302,["28447@DESKTOP-BE7HQ26",[[1,779,"懒汉式--"]],[779,779],[784,784]]],[1572357996620,["28447@DESKTOP-BE7HQ26",[[1,782," "]],[782,782],[783,783]]],[1572358000522,["28447@DESKTOP-BE7HQ26",[[1,785," 线程安全"]],[785,785],[790,790]]],[1572358000748,["28447@DESKTOP-BE7HQ26",[[1,794,"\n"]],[790,790],[791,791]]],[1572358002328,["28447@DESKTOP-BE7HQ26",[[1,795,"\n"]],[791,791],[792,792]]],[1572358026186,["28447@DESKTOP-BE7HQ26",[[1,792,"需要对"]],[792,792],[795,795]]],[1572358048967,["28447@DESKTOP-BE7HQ26",[[1,795,"懒汉式的实例化方法getInstance（）"]],[795,795],[817,817]]],[1572358050649,["28447@DESKTOP-BE7HQ26",[[-1,814,"e（）"]],[817,817],[814,814]]],[1572358051685,["28447@DESKTOP-BE7HQ26",[[1,814,"e"]],[814,814],[815,815]]],[1572358054482,["28447@DESKTOP-BE7HQ26",[[1,804,"`"]],[804,804],[805,805]]],[1572358059964,["28447@DESKTOP-BE7HQ26",[[1,816,"`，"]],[816,816],[818,818]]],[1572358061384,["28447@DESKTOP-BE7HQ26",[[-1,817,"，"]],[818,818],[817,817]]],[1572358070111,["28447@DESKTOP-BE7HQ26",[[-1,792,"需要对懒汉式的"]],[799,799],[792,792]]],[1572358074416,["28447@DESKTOP-BE7HQ26",[[1,792,"为了"]],[792,792],[794,794]]],[1572358075466,["28447@DESKTOP-BE7HQ26",[[1,795,"现实"]],[794,794],[796,796]]],[1572358085485,["28447@DESKTOP-BE7HQ26",[[1,796,"线程安全，只允许一个i许鞍华曾"]],[796,796],[811,811]]],[1572358086786,["28447@DESKTOP-BE7HQ26",[[-1,806,"i许鞍华曾"]],[811,811],[806,806]]],[1572358089110,["28447@DESKTOP-BE7HQ26",[[1,806,"线程进入"]],[806,806],[810,810]]],[1572358097453,["28447@DESKTOP-BE7HQ26",[[1,828,"即可实现"]],[828,828],[832,832]]],[1572358101466,["28447@DESKTOP-BE7HQ26",[[1,832,"线程安全"]],[832,832],[836,836]]],[1572358106093,["28447@DESKTOP-BE7HQ26",[[-1,828,"即可实现线程安全"]],[836,836],[828,828]]],[1572358106910,["28447@DESKTOP-BE7HQ26",[[1,832,"\n"]],[828,828],[829,829]]],[1572358107248,["28447@DESKTOP-BE7HQ26",[[1,833,"\n"]],[829,829],[830,830]]],[1572358111853,["28447@DESKTOP-BE7HQ26",[[1,830,"但是当一个线程"]],[830,830],[837,837]]],[1572358115704,["28447@DESKTOP-BE7HQ26",[[-1,832,"当一个线程"]],[837,837],[832,832]]],[1572358135690,["28447@DESKTOP-BE7HQ26",[[1,832,"相应的，这种防水"]],[832,832],[840,840]]],[1572358136419,["28447@DESKTOP-BE7HQ26",[[-1,838,"防水"]],[840,840],[838,838]]],[1572358158110,["28447@DESKTOP-BE7HQ26",[[1,838,"方式会让后续的线程阻塞时间过长，"]],[838,838],[854,854]]],[1572358159348,["28447@DESKTOP-BE7HQ26",[[1,854,"因为"]],[854,854],[856,856]]],[1572358159785,["28447@DESKTOP-BE7HQ26",[[-1,854,"因为"]],[856,856],[854,854]]],[1572358173538,["28447@DESKTOP-BE7HQ26",[[1,854,"因此会有性能问题，不推荐使用。"]],[854,854],[869,869]]],[1572358173734,["28447@DESKTOP-BE7HQ26",[[1,873,"\n"]],[869,869],[870,870]]],[1572358173941,["28447@DESKTOP-BE7HQ26",[[1,874,"\n"]],[870,870],[871,871]]],[1572358352301,["28447@DESKTOP-BE7HQ26",[[1,871,"··"]],[871,871],[873,873]]],[1572358353087,["28447@DESKTOP-BE7HQ26",[[-1,871,"··"]],[873,873],[871,871]]],[1572358353838,["28447@DESKTOP-BE7HQ26",[[1,871,"```"]],[871,871],[874,874]]],[1572358353870,["28447@DESKTOP-BE7HQ26",[[1,874,"language\n```\n"]],[874,874],[874,882]]],[1572358354639,["28447@DESKTOP-BE7HQ26",[[-1,874,"language"],[1,882,"j"]],[874,882],[875,875]]],[1572358354955,["28447@DESKTOP-BE7HQ26",[[1,875,"ava"]],[875,875],[878,878]]],[1572358355213,["28447@DESKTOP-BE7HQ26",[[1,879,"\n"]],[878,878],[879,879]]],[1572358355567,["28447@DESKTOP-BE7HQ26",[[1,879,"/**\n * 单例模式 -- 饿汉模式（线程安全）\n  */ public class Singleton {\n    private static Singleton instance;\n private Singleton() {\n    }\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n  }\n        return instance;\n  }\n}"]],[879,879],[1167,1167]]],[1572358358933,["28447@DESKTOP-BE7HQ26",[[-1,879,"/**\n * 单例模式 -- 饿汉模式（线程安全）\n  */ public class Singleton {\n    private static Singleton instance;\n private Singleton() {\n    }\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n  }\n        return instance;\n  }\n}"]],[1167,1167],[879,879]]],[1572358370850,["28447@DESKTOP-BE7HQ26",[[1,879,"/**\n * 单例模式 -- 饿汉模式（线程安全）\n */\npublic class Singleton {\n    private static Singleton instance;\n    private Singleton() {\n    }\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}"]],[879,879],[1177,1177]]],[1572358379755,["28447@DESKTOP-BE7HQ26",[[1,578,"\n"]],[577,577],[578,578]]],[1572359328553,["28447@DESKTOP-BE7HQ26",[[1,1184,"### shuan"]],[1184,1184],[1193,1193]]],[1572359329774,["28447@DESKTOP-BE7HQ26",[[-1,1188,"shuan"]],[1193,1193],[1188,1188]]],[1572359334730,["28447@DESKTOP-BE7HQ26",[[1,1188,"双重锁模式"]],[1188,1188],[1193,1193]]],[1572359334954,["28447@DESKTOP-BE7HQ26",[[1,1196,"\n"]],[1193,1193],[1194,1194]]],[1572359388228,["28447@DESKTOP-BE7HQ26",[[1,1195,"线程安全，延迟初始化。这种方式采用双锁机制，安全且在多线程情况下能保持高性能。"]],[1195,1195],[1234,1234]]],[1572359425756,["28447@DESKTOP-BE7HQ26",[[1,1236,"\n"]],[1235,1235],[1236,1236]]],[1572359432561,["28447@DESKTOP-BE7HQ26",[[1,1237,"\n"]],[1235,1235],[1236,1236]]],[1572359433402,["28447@DESKTOP-BE7HQ26",[[1,1236,"···"]],[1236,1236],[1239,1239]]],[1572359434320,["28447@DESKTOP-BE7HQ26",[[-1,1236,"···"]],[1239,1239],[1236,1236]]],[1572359435070,["28447@DESKTOP-BE7HQ26",[[1,1236,"```"]],[1236,1236],[1239,1239]]],[1572359435104,["28447@DESKTOP-BE7HQ26",[[1,1239,"language\n```\n"]],[1239,1239],[1239,1247]]],[1572359435891,["28447@DESKTOP-BE7HQ26",[[-1,1239,"language"],[1,1247,"j"]],[1239,1247],[1240,1240]]],[1572359436213,["28447@DESKTOP-BE7HQ26",[[1,1240,"ava"]],[1240,1240],[1243,1243]]],[1572359436448,["28447@DESKTOP-BE7HQ26",[[1,1244,"\n"]],[1243,1243],[1244,1244]]],[1572359436784,["28447@DESKTOP-BE7HQ26",[[1,1244,"```java\npublic class Singleton {  \n    private volatile static Singleton singleton;  \n    private Singleton (){}  \n    public static Singleton getSingleton() {  \n    if (singleton == null) {  \n        synchronized (Singleton.class) {  \n        if (singleton == null) {  \n            singleton = new Singleton();  \n        }  \n        }  \n    }  \n    return singleton;  \n    }  \n}\n```"]],[1244,1244],[1627,1627]]],[1572359440552,["28447@DESKTOP-BE7HQ26",[[-1,1628,"```"]],[1628,1631],[1628,1628]]],[1572359441970,["28447@DESKTOP-BE7HQ26",[[-1,1236,"```java"]],[1236,1243],[1236,1236]]],[1572359442411,["28447@DESKTOP-BE7HQ26",[[-1,1236,"\n"]],[1236,1236],[1235,1235]]],[1572359742623,["28447@DESKTOP-BE7HQ26",[[1,1236,"\n"]],[1234,1234],[1235,1235]]],[1572359742819,["28447@DESKTOP-BE7HQ26",[[1,1237,"\n"]],[1235,1235],[1236,1236]]],[1572359743925,["28447@DESKTOP-BE7HQ26",[[1,1236,"zai "]],[1236,1236],[1240,1240]]],[1572359744738,["28447@DESKTOP-BE7HQ26",[[-1,1236,"zai "]],[1240,1240],[1236,1236]]],[1572359745637,["28447@DESKTOP-BE7HQ26",[[1,1236,"在"]],[1236,1236],[1237,1237]]],[1572359746070,["28447@DESKTOP-BE7HQ26",[[-1,1236,"在"]],[1237,1237],[1236,1236]]],[1572359749660,["28447@DESKTOP-BE7HQ26",[[-1,1237,"\n"]],[1236,1236],[1235,1235]]],[1572359749886,["28447@DESKTOP-BE7HQ26",[[-1,1236,"\n"]],[1235,1235],[1234,1234]]],[1572359752698,["28447@DESKTOP-BE7HQ26",[[1,1620,"ka"]],[1620,1620],[1619,1622]]],[1572359753354,["28447@DESKTOP-BE7HQ26",[[-1,1619,"\n"],[-1,1621,"a\n"]],[1619,1622],[1619,1620]]],[1572359753405,["28447@DESKTOP-BE7HQ26",[[-1,1618,"`k"]],[1619,1619],[1618,1618]]],[1572359754831,["28447@DESKTOP-BE7HQ26",[[1,1618,"`"]],[1618,1618],[1619,1619]]],[1572359755094,["28447@DESKTOP-BE7HQ26",[[1,1621,"\n"]],[1619,1619],[1620,1620]]],[1572359756459,["28447@DESKTOP-BE7HQ26",[[1,1622,"\n"]],[1620,1620],[1621,1621]]],[1572359769989,["28447@DESKTOP-BE7HQ26",[[1,1621,"考虑在``"]],[1621,1621],[1626,1626]]],[1572359771461,["28447@DESKTOP-BE7HQ26",[[1,1625,"singleton == null"]],[1625,1625],[1642,1642]]],[1572359774475,["28447@DESKTOP-BE7HQ26",[[1,1624,"di"]],[1624,1624],[1626,1626]]],[1572359775168,["28447@DESKTOP-BE7HQ26",[[-1,1624,"di"]],[1626,1626],[1624,1624]]],[1572359779541,["28447@DESKTOP-BE7HQ26",[[1,1624,"第一个"]],[1624,1624],[1627,1627]]],[1572359801009,["28447@DESKTOP-BE7HQ26",[[1,1646,"，如果两个线程都执行了"]],[1646,1646],[1657,1657]]],[1572359808873,["28447@DESKTOP-BE7HQ26",[[-1,1621,"考虑在第一个`singleton == null`，"]],[1621,1647],[1621,1621]]],[1572359810381,["28447@DESKTOP-BE7HQ26",[[1,1631,"if (singleton == null)"]],[1631,1631],[1653,1653]]],[1572359812090,["28447@DESKTOP-BE7HQ26",[[1,1631,"`"]],[1631,1631],[1632,1632]]],[1572359819897,["28447@DESKTOP-BE7HQ26",[[1,1654,"`,那么"]],[1654,1654],[1658,1658]]],[1572359821027,["28447@DESKTOP-BE7HQ26",[[-1,1655,","]],[1656,1656],[1655,1655]]],[1572359821367,["28447@DESKTOP-BE7HQ26",[[1,1655,"，"]],[1655,1655],[1656,1656]]],[1572359829682,["28447@DESKTOP-BE7HQ26",[[1,1658,"如果没有限免的"]],[1658,1658],[1665,1665]]],[1572359831187,["28447@DESKTOP-BE7HQ26",[[-1,1662,"限免的"]],[1665,1665],[1662,1662]]],[1572359833452,["28447@DESKTOP-BE7HQ26",[[1,1662,"下面的阿"]],[1662,1662],[1666,1666]]],[1572359834022,["28447@DESKTOP-BE7HQ26",[[-1,1664,"的阿"]],[1666,1666],[1664,1664]]],[1572359835286,["28447@DESKTOP-BE7HQ26",[[1,1664,"的"]],[1664,1664],[1665,1665]]],[1572359850027,["28447@DESKTOP-BE7HQ26",[[1,1480,"   "]],[1480,1480],[1483,1483]]],[1572359851664,["28447@DESKTOP-BE7HQ26",[[1,1522,"  "]],[1522,1522],[1524,1524]]],[1572359853036,["28447@DESKTOP-BE7HQ26",[[1,1563,"  "]],[1563,1563],[1565,1565]]],[1572359856236,["28447@DESKTOP-BE7HQ26",[[-1,1470," "]],[1471,1471],[1470,1470]]],[1572359857983,["28447@DESKTOP-BE7HQ26",[[-1,1481," "]],[1472,1472],[1471,1471]]],[1572359858374,["28447@DESKTOP-BE7HQ26",[[-1,1470,"\n"]],[1471,1471],[1470,1470]]],[1572359861680,["28447@DESKTOP-BE7HQ26",[[1,1470,"\n        "]],[1470,1470],[1479,1479]]],[1572359864717,["28447@DESKTOP-BE7HQ26",[[-1,1481,"        "]],[1479,1479],[1471,1471]]],[1572359907703,["28447@DESKTOP-BE7HQ26",[[1,1670,"singleton = new Singleton();  "]],[1670,1670],[1700,1700]]],[1572359911187,["28447@DESKTOP-BE7HQ26",[[-1,1699," "]],[1699,1699],[1698,1698]]],[1572359911780,["28447@DESKTOP-BE7HQ26",[[1,1698,"·"]],[1698,1698],[1699,1699]]],[1572359912903,["28447@DESKTOP-BE7HQ26",[[-1,1697,";·"]],[1699,1699],[1697,1697]]],[1572359913265,["28447@DESKTOP-BE7HQ26",[[1,1697,"`"]],[1697,1697],[1698,1698]]],[1572359914935,["28447@DESKTOP-BE7HQ26",[[1,1670,"`"]],[1670,1670],[1671,1671]]],[1572359916982,["28447@DESKTOP-BE7HQ26",[[1,1661,","]],[1661,1661],[1662,1662]]],[1572359928211,["28447@DESKTOP-BE7HQ26",[[1,1661,"虽然ifoa"]],[1661,1661],[1667,1667]]],[1572359928772,["28447@DESKTOP-BE7HQ26",[[-1,1665,"oa"]],[1667,1667],[1665,1665]]],[1572359936388,["28447@DESKTOP-BE7HQ26",[[1,1665,"判断中有枷锁"]],[1665,1665],[1671,1671]]],[1572359936971,["28447@DESKTOP-BE7HQ26",[[-1,1669,"枷锁"]],[1671,1671],[1669,1669]]],[1572359943458,["28447@DESKTOP-BE7HQ26",[[1,1669,"加锁操作"]],[1669,1669],[1673,1673]]],[1572359952055,["28447@DESKTOP-BE7HQ26",[[-1,1674,"那么如果没有下面的"]],[1683,1683],[1674,1674]]],[1572359957657,["28447@DESKTOP-BE7HQ26",[[1,1674,"但是会执行两次"]],[1674,1674],[1681,1681]]],[1572359961651,["28447@DESKTOP-BE7HQ26",[[-1,1676,"会执行两次"]],[1681,1681],[1676,1676]]],[1572359971500,["28447@DESKTOP-BE7HQ26",[[1,1676,"两个线程都会执行"]],[1676,1676],[1684,1684]]],[1572360001722,["28447@DESKTOP-BE7HQ26",[[1,1714,"，实例化两次。因此必须使用双重校验锁"]],[1714,1714],[1732,1732]]],[1572360038670,["28447@DESKTOP-BE7HQ26",[[1,1732,"，需要使用两个``"]],[1732,1732],[1741,1741]]],[1572360039921,["28447@DESKTOP-BE7HQ26",[[1,1740,"if"]],[1740,1740],[1742,1742]]],[1572360046483,["28447@DESKTOP-BE7HQ26",[[1,1743,"，第一个if "]],[1743,1743],[1750,1750]]],[1572360048555,["28447@DESKTOP-BE7HQ26",[[1,1747," "]],[1747,1747],[1748,1748]]],[1572360049237,["28447@DESKTOP-BE7HQ26",[[1,1751," "]],[1750,1750],[1751,1751]]],[1572360054030,["28447@DESKTOP-BE7HQ26",[[1,1751,"jin"]],[1751,1751],[1754,1754]]],[1572360054736,["28447@DESKTOP-BE7HQ26",[[-1,1751,"jin"]],[1754,1754],[1751,1751]]],[1572360058769,["28447@DESKTOP-BE7HQ26",[[1,1751,"避免"]],[1751,1751],[1753,1753]]],[1572360074772,["28447@DESKTOP-BE7HQ26",[[1,1754,"singleton bei"]],[1754,1754],[1767,1767]]],[1572360075436,["28447@DESKTOP-BE7HQ26",[[-1,1764,"bei"]],[1767,1767],[1764,1764]]],[1572360078938,["28447@DESKTOP-BE7HQ26",[[1,1764,"被实例化后"]],[1764,1764],[1769,1769]]],[1572360087814,["28447@DESKTOP-BE7HQ26",[[1,1768,"之"]],[1768,1768],[1769,1769]]],[1572360091386,["28447@DESKTOP-BE7HQ26",[[1,1771,"枷锁操作"]],[1771,1771],[1775,1775]]],[1572360093238,["28447@DESKTOP-BE7HQ26",[[-1,1771,"枷"]],[1772,1772],[1771,1771]]],[1572360096504,["28447@DESKTOP-BE7HQ26",[[1,1771,"加"]],[1771,1771],[1772,1772]]],[1572360101155,["28447@DESKTOP-BE7HQ26",[[1,1775,"，第二个if"]],[1775,1775],[1781,1781]]],[1572360102334,["28447@DESKTOP-BE7HQ26",[[1,1779," "]],[1779,1779],[1780,1780]]],[1572360120643,["28447@DESKTOP-BE7HQ26",[[1,1782," 语句加锁，所以只需要"]],[1782,1782],[1793,1793]]],[1572360122768,["28447@DESKTOP-BE7HQ26",[[-1,1787,"，所以只需要"]],[1793,1793],[1787,1787]]],[1572360123609,["28447@DESKTOP-BE7HQ26",[[1,1787,"。"]],[1787,1787],[1788,1788]]],[1572360199716,[null,[[-1,1770,"\n"],[1,1771,"的"],[1,1789,"\n"]],[1770,1770],[1790,1790]]],[1572360199716,[null,[[1,1770,"\n"],[-1,1770,"的"],[-1,1789,"\n"]],[1790,1790],[1770,1770]]],[1572360166460,["28447@DESKTOP-BE7HQ26",[[1,1790,"\n"]],[1788,1788],[1789,1789]]],[1572360166639,["28447@DESKTOP-BE7HQ26",[[1,1791,"\n"]],[1789,1789],[1790,1790]]],[1572360167878,["28447@DESKTOP-BE7HQ26",[[1,1790,"shi"]],[1790,1790],[1793,1793]]],[1572360168671,["28447@DESKTOP-BE7HQ26",[[-1,1790,"shi"]],[1793,1793],[1790,1790]]],[1572360173222,["28447@DESKTOP-BE7HQ26",[[1,1790,"使用volite"]],[1790,1790],[1798,1798]]],[1572360182464,["28447@DESKTOP-BE7HQ26",[[1,1795,"at"]],[1795,1795],[1797,1797]]],[1572360183631,["28447@DESKTOP-BE7HQ26",[[-1,1798,"t"]],[1799,1799],[1798,1798]]],[1572360184085,["28447@DESKTOP-BE7HQ26",[[1,1798,"l"]],[1798,1798],[1799,1799]]],[1572360188867,["28447@DESKTOP-BE7HQ26",[[1,1800,"的原因"]],[1800,1800],[1803,1803]]],[1572360193369,["28447@DESKTOP-BE7HQ26",[[1,1792,"`"]],[1792,1792],[1793,1793]]],[1572360194956,["28447@DESKTOP-BE7HQ26",[[1,1801,"`"]],[1801,1801],[1802,1802]]],[1572360197027,["28447@DESKTOP-BE7HQ26",[[1,1807,"\n"]],[1805,1805],[1806,1806]]],[1572360259364,[null,[[-1,1770,"\n"],[1,1771,"的"],[1,1805,"\n"]],[1770,1770],[1806,1806]]],[1572360259364,[null,[[1,1770,"\n"],[-1,1770,"的"],[-1,1805,"\n"]],[1806,1806],[1770,1770]]],[1572360199867,["28447@DESKTOP-BE7HQ26",[[1,1805,":"]],[1805,1805],[1806,1806]]],[1572360200116,["28447@DESKTOP-BE7HQ26",[[1,1809,"\n"]],[1806,1806],[1807,1807]]],[1572360200946,["28447@DESKTOP-BE7HQ26",[[-1,1809,"\n"]],[1807,1807],[1806,1806]]],[1572360201654,["28447@DESKTOP-BE7HQ26",[[-1,1805,":"]],[1806,1806],[1805,1805]]],[1572360201953,["28447@DESKTOP-BE7HQ26",[[1,1805,"："]],[1805,1805],[1806,1806]]],[1572360202511,["28447@DESKTOP-BE7HQ26",[[1,1809,"\n"]],[1806,1806],[1807,1807]]],[1572360224128,["28447@DESKTOP-BE7HQ26",[[-1,1309,"s"],[-1,1311,"ngleton"]],[1309,1318],[1309,1310]]],[1572360226583,["28447@DESKTOP-BE7HQ26",[[1,1310,"nstance"]],[1309,1309],[1317,1317]]],[1572360233943,["28447@DESKTOP-BE7HQ26",[[-1,1381,"Singleton"]],[1381,1389],[1381,1381]]],[1572360237006,["28447@DESKTOP-BE7HQ26",[[1,1381,"Instance"]],[1381,1381],[1389,1389]]],[1572360242015,["28447@DESKTOP-BE7HQ26",[[-1,1404,"s"],[-1,1407,"gleton"],[1,1413,"stance"]],[1404,1413],[1412,1412]]],[1572360244466,["28447@DESKTOP-BE7HQ26",[[-1,1519,"s"],[-1,1522,"gleton"],[1,1528,"stance"]],[1519,1528],[1527,1527]]],[1572360246368,["28447@DESKTOP-BE7HQ26",[[-1,1482,"s"],[-1,1485,"gleton"],[1,1491,"stance"]],[1482,1491],[1490,1490]]],[1572360250040,["28447@DESKTOP-BE7HQ26",[[-1,1680,"s"],[-1,1683,"gleton"],[1,1689,"stance"]],[1680,1689],[1688,1688]]],[1572360253877,["28447@DESKTOP-BE7HQ26",[[-1,1636,"s"],[-1,1639,"gleton"],[1,1645,"stance"]],[1636,1645],[1644,1644]]],[1572360319369,[null,[[-1,1763,"\n"],[1,1764,"的"]],[1763,1763],[1765,1765]]],[1572360319369,[null,[[1,1763,"\n"],[-1,1763,"的"]],[1765,1765],[1763,1763]]],[1572360267285,["28447@DESKTOP-BE7HQ26",[[-1,1593,"s"],[-1,1596,"gleton"],[1,1602,"stance"]],[1593,1602],[1601,1601]]],[1572360271177,["28447@DESKTOP-BE7HQ26",[[-1,1746,"s"],[-1,1749,"gleton"],[1,1755,"stance"]],[1746,1755],[1754,1754]]],[1572360379432,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360379432,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360336953,["28447@DESKTOP-BE7HQ26",[[-1,1794,"原因"]],[1796,1796],[1794,1794]]],[1572360337718,["28447@DESKTOP-BE7HQ26",[[1,1794,"b"]],[1794,1794],[1795,1795]]],[1572360338140,["28447@DESKTOP-BE7HQ26",[[-1,1794,"b"]],[1795,1795],[1794,1794]]],[1572360340037,["28447@DESKTOP-BE7HQ26",[[1,1794,"原因"]],[1794,1794],[1796,1796]]],[1572360340865,["28447@DESKTOP-BE7HQ26",[[1,1801,"\n"]],[1797,1797],[1798,1798]]],[1572360343280,["28447@DESKTOP-BE7HQ26",[[1,1798,"``"]],[1798,1798],[1800,1800]]],[1572360350434,["28447@DESKTOP-BE7HQ26",[[1,1799,"instance = new Singleton()"]],[1799,1799],[1825,1825]]],[1572360355473,["28447@DESKTOP-BE7HQ26",[[1,1826,"zhe"]],[1826,1826],[1829,1829]]],[1572360356055,["28447@DESKTOP-BE7HQ26",[[-1,1826,"zhe"]],[1829,1829],[1826,1826]]],[1572360364435,["28447@DESKTOP-BE7HQ26",[[1,1826,"这段代码课题一"]],[1826,1826],[1833,1833]]],[1572360365288,["28447@DESKTOP-BE7HQ26",[[-1,1830,"课题一"]],[1833,1833],[1830,1830]]],[1572360370661,["28447@DESKTOP-BE7HQ26",[[1,1830,"可以分为散步"]],[1830,1830],[1836,1836]]],[1572360372353,["28447@DESKTOP-BE7HQ26",[[-1,1834,"散步"]],[1836,1836],[1834,1834]]],[1572360374753,["28447@DESKTOP-BE7HQ26",[[1,1834,"三步"]],[1834,1834],[1836,1836]]],[1572360375785,["28447@DESKTOP-BE7HQ26",[[-1,1834,"三步"]],[1836,1836],[1834,1834]]],[1572360439392,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360439392,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360383289,["28447@DESKTOP-BE7HQ26",[[1,1834,"三步执行："]],[1834,1834],[1839,1839]]],[1572360383500,["28447@DESKTOP-BE7HQ26",[[1,1843,"\n"]],[1839,1839],[1840,1840]]],[1572360390470,["28447@DESKTOP-BE7HQ26",[[1,1840,"- 位"]],[1840,1840],[1843,1843]]],[1572360391215,["28447@DESKTOP-BE7HQ26",[[-1,1842,"位"]],[1843,1843],[1842,1842]]],[1572360401430,["28447@DESKTOP-BE7HQ26",[[1,1842,"为instance分哦欸u"]],[1842,1842],[1855,1855]]],[1572360402539,["28447@DESKTOP-BE7HQ26",[[-1,1851,"分哦欸u"]],[1855,1855],[1851,1851]]],[1572360408038,["28447@DESKTOP-BE7HQ26",[[1,1851,"分配内存空间"]],[1851,1851],[1857,1857]]],[1572360408455,["28447@DESKTOP-BE7HQ26",[[1,1858,"- \n"]],[1857,1857],[1860,1860]]],[1572360412124,["28447@DESKTOP-BE7HQ26",[[1,1860,"初始化"]],[1860,1860],[1863,1863]]],[1572360414111,["28447@DESKTOP-BE7HQ26",[[1,1843," "]],[1843,1843],[1844,1844]]],[1572360416089,["28447@DESKTOP-BE7HQ26",[[1,1852," "]],[1852,1852],[1853,1853]]],[1572360421153,["28447@DESKTOP-BE7HQ26",[[1,1865," instance"]],[1865,1865],[1874,1874]]],[1572360421478,["28447@DESKTOP-BE7HQ26",[[1,1875,"- \n"]],[1874,1874],[1877,1877]]],[1572360427461,["28447@DESKTOP-BE7HQ26",[[1,1877,"将instance"]],[1877,1877],[1886,1886]]],[1572360429318,["28447@DESKTOP-BE7HQ26",[[1,1878," "]],[1878,1878],[1879,1879]]],[1572360435911,["28447@DESKTOP-BE7HQ26",[[1,1887," 指向"]],[1887,1887],[1890,1890]]],[1572360499401,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360499401,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360447072,["28447@DESKTOP-BE7HQ26",[[1,1890,"分配的内存空间"]],[1890,1890],[1897,1897]]],[1572360453925,["28447@DESKTOP-BE7HQ26",[[1,1898,"- \n"]],[1897,1897],[1900,1900]]],[1572360454141,["28447@DESKTOP-BE7HQ26",[[-1,1898,"- "]],[1900,1900],[1899,1899]]],[1572360463095,["28447@DESKTOP-BE7HQ26",[[1,1781,"\n"]],[1780,1780],[1781,1781]]],[1572360476501,["28447@DESKTOP-BE7HQ26",[[1,1843,"1."]],[1843,1843],[1845,1845]]],[1572360478847,["28447@DESKTOP-BE7HQ26",[[1,1865,"2."]],[1865,1865],[1867,1867]]],[1572360480909,["28447@DESKTOP-BE7HQ26",[[1,1882,"3."]],[1882,1882],[1884,1884]]],[1572360487125,["28447@DESKTOP-BE7HQ26",[[1,1906,"由于JVmd"]],[1906,1906],[1912,1912]]],[1572360488004,["28447@DESKTOP-BE7HQ26",[[-1,1909,"Vmd"]],[1912,1912],[1909,1909]]],[1572360489002,["28447@DESKTOP-BE7HQ26",[[1,1909,"B"]],[1909,1909],[1910,1910]]],[1572360489451,["28447@DESKTOP-BE7HQ26",[[-1,1909,"B"]],[1910,1910],[1909,1909]]],[1572360499167,["28447@DESKTOP-BE7HQ26",[[1,1909,"VM具有指令重排的特性，"]],[1909,1909],[1921,1921]]],[1572360559393,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360559393,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360501960,["28447@DESKTOP-BE7HQ26",[[1,1921,"执行栓粗"]],[1921,1921],[1925,1925]]],[1572360502554,["28447@DESKTOP-BE7HQ26",[[-1,1923,"栓粗"]],[1925,1925],[1923,1923]]],[1572360507339,["28447@DESKTOP-BE7HQ26",[[1,1923,"顺序可能变化曾"]],[1923,1923],[1930,1930]]],[1572360508548,["28447@DESKTOP-BE7HQ26",[[-1,1927,"变化曾"]],[1930,1930],[1927,1927]]],[1572360512105,["28447@DESKTOP-BE7HQ26",[[1,1927,"变成 1》"]],[1927,1927],[1932,1932]]],[1572360512771,["28447@DESKTOP-BE7HQ26",[[-1,1931,"》"]],[1932,1932],[1931,1931]]],[1572360519300,["28447@DESKTOP-BE7HQ26",[[1,1931,">3>2，zai "]],[1931,1931],[1940,1940]]],[1572360520136,["28447@DESKTOP-BE7HQ26",[[-1,1936,"zai "]],[1940,1940],[1936,1936]]],[1572360546721,["28447@DESKTOP-BE7HQ26",[[1,1936,"在多线程环境下会导致一个线程获得还没有初始化的实例，"]],[1936,1936],[1962,1962]]],[1572360552482,["28447@DESKTOP-BE7HQ26",[[-1,1961,"，"]],[1962,1962],[1961,1961]]],[1572360558305,["28447@DESKTOP-BE7HQ26",[[1,1961,"。例如，线程她"]],[1961,1961],[1968,1968]]],[1572360559066,["28447@DESKTOP-BE7HQ26",[[-1,1967,"她"]],[1968,1968],[1967,1967]]],[1572360619409,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360619409,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360560368,["28447@DESKTOP-BE7HQ26",[[1,1967," t2"]],[1967,1967],[1970,1970]]],[1572360561305,["28447@DESKTOP-BE7HQ26",[[-1,1968,"t2"]],[1970,1970],[1968,1968]]],[1572360570647,["28447@DESKTOP-BE7HQ26",[[1,1968,"T1 执行了 1 he "]],[1968,1968],[1980,1980]]],[1572360571339,["28447@DESKTOP-BE7HQ26",[[-1,1977,"he "]],[1980,1980],[1977,1977]]],[1572360572970,["28447@DESKTOP-BE7HQ26",[[1,1977,"和 3 "]],[1977,1977],[1981,1981]]],[1572360573999,["28447@DESKTOP-BE7HQ26",[[-1,1980," "]],[1981,1981],[1980,1980]]],[1572360574941,["28447@DESKTOP-BE7HQ26",[[1,1980,"，c"]],[1980,1980],[1982,1982]]],[1572360575650,["28447@DESKTOP-BE7HQ26",[[-1,1981,"c"]],[1982,1982],[1981,1981]]],[1572360589831,["28447@DESKTOP-BE7HQ26",[[1,1981,"此时 instance 还没有被"]],[1981,1981],[1997,1997]]],[1572360591775,["28447@DESKTOP-BE7HQ26",[[-1,1995,"有"]],[1996,1996],[1995,1995]]],[1572360598411,["28447@DESKTOP-BE7HQ26",[[1,1996,"初始化。"]],[1996,1996],[2000,2000]]],[1572360598634,["28447@DESKTOP-BE7HQ26",[[1,2003,"\n"]],[2000,2000],[2001,2001]]],[1572360614886,["28447@DESKTOP-BE7HQ26",[[1,2001,"使用volatile关键字可以禁止JVM的"]],[2001,2001],[2022,2022]]],[1572360616349,["28447@DESKTOP-BE7HQ26",[[1,2019," "]],[2019,2019],[2020,2020]]],[1572360616942,["28447@DESKTOP-BE7HQ26",[[-1,2019," "]],[2020,2020],[2019,2019]]],[1572360617501,["28447@DESKTOP-BE7HQ26",[[1,2018," "]],[2018,2018],[2019,2019]]],[1572360618465,["28447@DESKTOP-BE7HQ26",[[1,2022," "]],[2022,2022],[2023,2023]]],[1572360679421,[null,[[-1,1761,"\n"],[1,1762,"的"]],[1761,1761],[1763,1763]]],[1572360679421,[null,[[1,1761,"\n"],[-1,1761,"的"]],[1763,1763],[1761,1761]]],[1572360628316,["28447@DESKTOP-BE7HQ26",[[1,2024,"指令重排，保证在多下火车阿"]],[2024,2024],[2037,2037]]],[1572360629552,["28447@DESKTOP-BE7HQ26",[[-1,2032,"多下火车阿"]],[2037,2037],[2032,2032]]],[1572360641308,["28447@DESKTOP-BE7HQ26",[[1,2032,"多线程环境下也能正常与西宁"]],[2032,2032],[2045,2045]]],[1572360642105,["28447@DESKTOP-BE7HQ26",[[-1,2042,"与西宁"]],[2045,2045],[2042,2042]]],[1572360643540,["28447@DESKTOP-BE7HQ26",[[1,2042,"芸香"]],[2042,2042],[2044,2044]]],[1572360644173,["28447@DESKTOP-BE7HQ26",[[-1,2042,"芸香"]],[2044,2044],[2042,2042]]],[1572360647311,["28447@DESKTOP-BE7HQ26",[[1,2042,"运行。"]],[2042,2042],[2045,2045]]],[1572360647909,["28447@DESKTOP-BE7HQ26",[[1,2048,"\n"]],[2045,2045],[2046,2046]]],[1572360648125,["28447@DESKTOP-BE7HQ26",[[1,2049,"\n"]],[2046,2046],[2047,2047]]],[1572360659776,["28447@DESKTOP-BE7HQ26",[[1,495,"\n"]],[494,494],[495,495]]],[1572360669840,["28447@DESKTOP-BE7HQ26",[[-1,525,","]],[526,526],[525,525]]],[1572360670122,["28447@DESKTOP-BE7HQ26",[[1,525,"，"]],[525,525],[526,526]]]],null,"28447@DESKTOP-BE7HQ26"],["725a14f0-5679-423d-a8c2-255953bf2c58",1573458558671,"# 设计模式\n\n\n## 单例模式\n\n### 懒汉式 -- 线程不安全\n\n私有变量 instance 被延迟实例化，这样做的好处是，如果没有用到该类，那么就不会实例化 instance,从而节约资源\n\n这种实现方式在多线程环境下是不安全的，因为多个线程可执行`instance = new Singleton()`，导致实例化多次instance.\n\n```java\n\npublic class Singleton {\n\n    private static Singleton instance;                                \n    private Singleton() {\n    }\n\n    public static Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n```\n\n\n### 饿汉式 -- 线程安全\n\n懒汉式因为会被多次实例化，饿汉式直接实例化instance，不会产生线程安全问题。\n\n但是直接实例化的方式也丢失了延迟实例化带来的节约资源的好处。\n\n```java\n\npublic class Singleton {\n    private static Singleton instance = new Singleton();\n    private Singleton() {\n    }\n\n    public static Singleton getInstance() {\n        return instance;\n    }\n}\n```\n\n### 懒汉式 -- 线程安全\n\n为了实现线程安全，只允许一个线程进入实例化方法`getInstance`\n\n但是相应的，这种方式会让后续的线程阻塞时间过长，因此会有性能问题，不推荐使用。\n\n```java\n/**\n * 单例模式 -- 饿汉模式（线程安全）\n */\npublic class Singleton {\n    private static Singleton instance;\n    private Singleton() {\n    }\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n```\n\n### 双重锁模式\n\n线程安全，延迟初始化。这种方式采用双锁机制，安全且在多线程情况下能保持高性能。\n\n```java\npublic class Singleton {  \n    private volatile static Singleton instance;  \n    private Singleton (){}  \n    public static Singleton getInstance() {  \n    if (instance == null) {  \n        synchronized (Singleton.class) { \n          if (instance == null) {  \n              instance = new Singleton();  \n          }  \n        }  \n    }  \n    return instance;  \n    }  \n}\n```\n\n如果两个线程都执行了`if (instance == null)`，虽然if判断中有加锁操作,但是两个线程都会执行`instance = new Singleton()` ，实例化两次。因此必须使用双重校验锁，需要使用两个`if`，第一个 if 避免 instance 被实例化之后的加锁操作，第二个 if 语句加锁。\n\n\n使用`volatile`的原因：\n`instance = new Singleton()`这段代码可以分为三步执行：\n- 1.为 instance 分配内存空间\n- 2.初始化 instance\n- 3.将 instance 指向分配的内存空间\n\n由于JVM具有指令重排的特性，执行顺序可能变成 1>3>2，在多线程环境下会导致一个线程获得还没有初始化的实例。例如，线程 T1 执行了 1 和 3，此时 instance 还没被初始化。\n使用volatile关键字可以禁止 JVM 的指令重排，保证在多线程环境下也能正常运行。\n\n\n\n\n",[[1573458546736,["28447@DESKTOP-BE7HQ26",[[1,8,"  "]],[8,8],[10,10]]]],null,"28447@DESKTOP-BE7HQ26"]]}